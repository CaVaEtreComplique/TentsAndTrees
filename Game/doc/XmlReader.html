<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class XmlReader - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-XmlReader-label-Presentation">Presentation</a>
    <li><a href="#class-XmlReader-label-Variables">Variables</a>
    <li><a href="#class-XmlReader-label-Methods">Methods</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Object.html">Object</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Singleton</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-buttonMaxString">#buttonMaxString</a>
    
    <li ><a href="#method-i-getButtonLabel">#getButtonLabel</a>
    
    <li ><a href="#method-i-getHelpsTexts">#getHelpsTexts</a>
    
    <li ><a href="#method-i-getLanguages">#getLanguages</a>
    
    <li ><a href="#method-i-getLoadingMessages">#getLoadingMessages</a>
    
    <li ><a href="#method-i-getRules">#getRules</a>
    
    <li ><a href="#method-i-getScreenTexts">#getScreenTexts</a>
    
    <li ><a href="#method-i-getTutorialTexts">#getTutorialTexts</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-XmlReader">
  <h1 id="class-XmlReader" class="class">
    class XmlReader
  </h1>

  <section class="description">
    
<h4 id="class-XmlReader-label-Presentation">Presentation<span><a href="#class-XmlReader-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>The <a href="XmlReader.html"><code>XmlReader</code></a> class is here to read every necessary information inside the XML file. The XML file contains all the language data such as every word or phrase in the game in the language we want. This reader gets the informations and applies them to the game.</p>

<h4 id="class-XmlReader-label-Variables">Variables<span><a href="#class-XmlReader-label-Variables">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>language</code> : The language variable determines the game&#39;s language.</p>
</li></ul>

<h4 id="class-XmlReader-label-Methods">Methods<span><a href="#class-XmlReader-label-Methods">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>This class contains 5 methods, each described further down.</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-c-new-label-Presentation">Presentation<span><a href="#method-c-new-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The initialization method reads the XML document, which is converted into a HashTable indented by element. Here is also defined the game&#39;s language.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>()
  <span class="ruby-identifier">xmlDoc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&quot;../Assets/Files/Languages/lang.xml&quot;</span>))
  <span class="ruby-ivar">@xmlHash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">xmlDoc</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-ivar">@language</span> = <span class="ruby-string">&quot;English&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-buttonMaxString" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">buttonMaxString</span><span
            class="method-args">(currentScreen)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The buttonMaxString method returns the length of the longest label of a button in a screen.</p>
          
          

          
          <div class="method-source-code" id="buttonMaxString-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">buttonMaxString</span>(<span class="ruby-identifier">currentScreen</span>)
  <span class="ruby-identifier">longest</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;screen&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">currentScreen</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;buttons&quot;</span>).<span class="ruby-identifier">each_value</span>{
  <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">longest</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">v</span>) }
  <span class="ruby-identifier">longest</span>.<span class="ruby-identifier">sort_by!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:length</span>).<span class="ruby-identifier">reverse!</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">longest</span>[<span class="ruby-value">0</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getButtonLabel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getButtonLabel</span><span
            class="method-args">(currentScreen, key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getButtonLabel-label-Presentation">Presentation<span><a href="#method-i-getButtonLabel-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The getButtonLabel method fetches the label of a button according to the current screen and its key.</p>

<h5 id="method-i-getButtonLabel-label-Attributes">Attributes<span><a href="#method-i-getButtonLabel-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>currentLevel</code> : The screen that we are in.</p>
</li><li>
<p><code>key</code> : The key of the button label we want.</p>
</li></ul>

<h5 id="method-i-getButtonLabel-label-Returns">Returns<span><a href="#method-i-getButtonLabel-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the label of the button wanted.</p>
          
          

          
          <div class="method-source-code" id="getButtonLabel-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getButtonLabel</span>(<span class="ruby-identifier">currentScreen</span>, <span class="ruby-identifier">key</span>)
   <span class="ruby-keyword">return</span> <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;screen&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">currentScreen</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;buttons&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getHelpsTexts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getHelpsTexts</span><span
            class="method-args">(help, helpLevel, delimiterPosition)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getHelpsTexts-label-Presentation">Presentation<span><a href="#method-i-getHelpsTexts-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The getHelpTexts method fetches a text according to a key and the position of a delimiter (here we use “;”). This way it is possible to divide the text and put values between it.</p>

<h5 id="method-i-getHelpsTexts-label-Attributes">Attributes<span><a href="#method-i-getHelpsTexts-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>help</code> : The help that we want.</p>
</li><li>
<p><code>helpLevel</code> : The level of the help.</p>
</li><li>
<p><code>delimiterPosition</code> : Use to introduce variable between those delemiters.</p>
</li></ul>

<h5 id="method-i-getHelpsTexts-label-Returns">Returns<span><a href="#method-i-getHelpsTexts-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the text that we want according to the help, its level and its position depending on the delemiter.</p>
          
          

          
          <div class="method-source-code" id="getHelpsTexts-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getHelpsTexts</span>(<span class="ruby-identifier">help</span>, <span class="ruby-identifier">helpLevel</span>, <span class="ruby-identifier">delimiterPosition</span>)
    <span class="ruby-identifier">temp</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">temp</span> = <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;helps&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">help</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;lvl&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">helpLevel</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">temp</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;;&quot;</span>)[<span class="ruby-identifier">delimiterPosition</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getLanguages" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getLanguages</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="getLanguages-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getLanguages</span>
  <span class="ruby-identifier">tab</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">each_value</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">tab</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">v</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;language&quot;</span>))
  }
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">tab</span>
  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getLoadingMessages" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getLoadingMessages</span><span
            class="method-args">(key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The getLoadingMessages method fetches a loading text message according to the key</p>
          
          

          
          <div class="method-source-code" id="getLoadingMessages-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getLoadingMessages</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;loadingmessages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getRules" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getRules</span><span
            class="method-args">(number)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="getRules-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getRules</span>(<span class="ruby-identifier">number</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;rules&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;rule&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getScreenTexts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getScreenTexts</span><span
            class="method-args">(currentScreen, key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getScreenTexts-label-Presentation">Presentation<span><a href="#method-i-getScreenTexts-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The getScreentexts method fetches a text according to the current screen and its key.</p>

<h5 id="method-i-getScreenTexts-label-Attributes">Attributes<span><a href="#method-i-getScreenTexts-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>currentLevel</code> : The screen that we are in.</p>
</li><li>
<p><code>key</code> : The key of the button label we want.</p>
</li></ul>

<h5 id="method-i-getScreenTexts-label-Returns">Returns<span><a href="#method-i-getScreenTexts-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the text that we want according to the current screen and the key.</p>
          
          

          
          <div class="method-source-code" id="getScreenTexts-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getScreenTexts</span>(<span class="ruby-identifier">currentScreen</span>, <span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;screen&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">currentScreen</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;texts&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getTutorialTexts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getTutorialTexts</span><span
            class="method-args">(currentLevel, step)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getTutorialTexts-label-Presentation">Presentation<span><a href="#method-i-getTutorialTexts-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The getTutorialTexts method fetches a text according to the current tutorial level and its step.</p>

<h5 id="method-i-getTutorialTexts-label-Attributes">Attributes<span><a href="#method-i-getTutorialTexts-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>currentLevel</code> : The level that we want.</p>
</li><li>
<p><code>helpLevel</code> : The step of the tutorial.</p>
</li></ul>

<h5 id="method-i-getTutorialTexts-label-Returns">Returns<span><a href="#method-i-getTutorialTexts-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the text that we want according to current level and his steps.</p>
          
          

          
          <div class="method-source-code" id="getTutorialTexts-source">
            <pre><span class="ruby-comment"># File Core/XmlReader.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getTutorialTexts</span>(<span class="ruby-identifier">currentLevel</span>, <span class="ruby-identifier">step</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@xmlHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;languages&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-ivar">@language</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;tutorial&quot;</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">currentLevel</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&quot;step&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">step</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

