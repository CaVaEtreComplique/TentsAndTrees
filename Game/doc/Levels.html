<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Levels - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-Levels-label-Presentation">Presentation</a>
    <li><a href="#class-Levels-label-Methods">Methods</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Object.html">Object</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-calculateOverallStars">#calculateOverallStars</a>
    
    <li ><a href="#method-i-calculateScore">#calculateScore</a>
    
    <li ><a href="#method-i-calculateStars">#calculateStars</a>
    
    <li ><a href="#method-i-continuable-3F">#continuable?</a>
    
    <li ><a href="#method-i-getLevel">#getLevel</a>
    
    <li ><a href="#method-i-getLevelMaxStars">#getLevelMaxStars</a>
    
    <li ><a href="#method-i-initLevel">#initLevel</a>
    
    <li ><a href="#method-i-lvlAvailable-3F">#lvlAvailable?</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Levels">
  <h1 id="class-Levels" class="class">
    class Levels
  </h1>

  <section class="description">
    
<h5 id="class-Levels-label-Presentation">Presentation<span><a href="#class-Levels-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>The <a href="Levels.html"><code>Levels</code></a> class is used to know all levels particularity. It is also used to do all of the operations in relation with the levels.</p>

<h5 id="class-Levels-label-Methods">Methods<span><a href="#class-Levels-label-Methods">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This class knows its initialization method and the methods described below.</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-c-new-label-Presentation">Presentation<span><a href="#method-c-new-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This class&#39; constructor initializes the variables, 4 hash tables described below.</p>

<h5 id="method-c-new-label-Variables">Variables<span><a href="#method-c-new-label-Variables">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>levels</code> - A hash table which contains all of the information about every level.</p>
</li></ul>

<p>A level is defined by its game mode, its difficulty, its score multiplier, the number of stars that we can have, the number of grids to complete the level and its number.</p>
<ul><li>
<p><code>neededStars</code> - A hash table which contains the number of stars needed to unlock each level.</p>
</li><li>
<p><code>overallStarsHash</code> - A hash table that will contain the number of stars that the user has per level.</p>
</li><li>
<p><code>levelsSession</code> - A hash table that will contain all session in connection with the levels hash table.</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 41</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>()
<span class="ruby-ivar">@levels</span> = {
                    <span class="ruby-value">1</span> <span class="ruby-operator">=&gt;</span> [<span class="ruby-value">:quickplay</span>, <span class="ruby-value">:easy</span>, <span class="ruby-value">1</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>,<span class="ruby-value">1</span>],
                    <span class="ruby-value">2</span> <span class="ruby-operator">=&gt;</span> [<span class="ruby-value">:timeAttack</span>, <span class="ruby-value">:easy</span>, <span class="ruby-value">1</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>,<span class="ruby-value">2</span>],
                    <span class="ruby-value">3</span> <span class="ruby-operator">=&gt;</span> [<span class="ruby-value">:quickplay</span>, <span class="ruby-value">:easy</span>, <span class="ruby-value">0.95</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>,<span class="ruby-value">3</span>],
                    <span class="ruby-value">4</span> <span class="ruby-operator">=&gt;</span> [<span class="ruby-value">:timeAttack</span>, <span class="ruby-value">:easy</span>, <span class="ruby-value">1</span>, <span class="ruby-value">3</span>, <span class="ruby-value">2</span>,<span class="ruby-value">4</span>],
                    <span class="ruby-value">5</span> <span class="ruby-operator">=&gt;</span> [<span class="ruby-value">:quickplay</span>, <span class="ruby-value">:easy</span>, <span class="ruby-value">0.9</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>,<span class="ruby-value">5</span>]
            }
            <span class="ruby-ivar">@neededStars</span> = {
                    <span class="ruby-value">1</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">0</span>,
                    <span class="ruby-value">2</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">1</span>,
                    <span class="ruby-value">3</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">3</span>,
                    <span class="ruby-value">4</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">5</span>,
                    <span class="ruby-value">5</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">8</span>
            }
            <span class="ruby-ivar">@overallStarsHash</span>={}
            <span class="ruby-ivar">@levelsSession</span>={}
    <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-calculateOverallStars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">calculateOverallStars</span><span
            class="method-args">(overAllStarsHash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-calculateOverallStars-label-Presentation">Presentation<span><a href="#method-i-calculateOverallStars-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used when the player ends a game. This is used to calculate the overall stars of an adventure session.</p>

<h5 id="method-i-calculateOverallStars-label-Attributes">Attributes<span><a href="#method-i-calculateOverallStars-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>overAllStarsHash</code> : The hash table that contains all the stars owned per level.</p>
</li></ul>

<h5 id="method-i-calculateOverallStars-label-Returns">Returns<span><a href="#method-i-calculateOverallStars-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the overall stars.</p>

<h5 id="method-i-calculateOverallStars-label-Examples">Examples<span><a href="#method-i-calculateOverallStars-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method calculates the overall stars by adding all the values of the hash table :</p>

<pre class="ruby"><span class="ruby-identifier">res</span> = <span class="ruby-value">0</span>;
                 <span class="ruby-identifier">overAllStarsHash</span>.<span class="ruby-identifier">each_value</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
                         <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span><span class="ruby-identifier">v</span>
                 }
</pre>
<hr>
          
          

          
          <div class="method-source-code" id="calculateOverallStars-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">calculateOverallStars</span>(<span class="ruby-identifier">overAllStarsHash</span>)
        <span class="ruby-identifier">res</span> = <span class="ruby-value">0</span>;
        <span class="ruby-identifier">overAllStarsHash</span>.<span class="ruby-identifier">each_value</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span><span class="ruby-identifier">v</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-calculateScore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">calculateScore</span><span
            class="method-args">(scoreMultiplier, numberOfGrid,score)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-calculateScore-label-Presentation">Presentation<span><a href="#method-i-calculateScore-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used when the player ends a game. This is used to calculate the score with the level condition.</p>

<h5 id="method-i-calculateScore-label-Attributes">Attributes<span><a href="#method-i-calculateScore-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>score</code> : The session&#39;s score.</p>
</li><li>
<p><code>scoreMultiplier</code> : The score multiplier of the level.</p>
</li><li>
<p><code>numberOfGrid</code> : The number of grids needed to end the level.</p>
</li></ul>

<h5 id="method-i-calculateScore-label-Returns">Returns<span><a href="#method-i-calculateScore-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the score of the session.</p>

<h5 id="method-i-calculateScore-label-Examples">Examples<span><a href="#method-i-calculateScore-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method implements the number of grids that are done and calculates the score :</p>

<pre class="ruby"><span class="ruby-ivar">@score</span> = (<span class="ruby-identifier">score</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">scoreMultiplier</span>)<span class="ruby-operator">/</span><span class="ruby-identifier">numberOfGrid</span>
</pre>
<hr>
          
          

          
          <div class="method-source-code" id="calculateScore-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">calculateScore</span>(<span class="ruby-identifier">scoreMultiplier</span>, <span class="ruby-identifier">numberOfGrid</span>,<span class="ruby-identifier">score</span>)
                <span class="ruby-ivar">@finishedGrid</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
                <span class="ruby-ivar">@score</span> = (<span class="ruby-identifier">score</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">scoreMultiplier</span>)<span class="ruby-operator">/</span><span class="ruby-identifier">numberOfGrid</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-calculateStars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">calculateStars</span><span
            class="method-args">(score, maxStars,overAllStarsHash,levelNumber)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-calculateStars-label-Presentation">Presentation<span><a href="#method-i-calculateStars-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used when the player ends a game. This is used to calculate the number of stars depending on the score.</p>

<h5 id="method-i-calculateStars-label-Attributes">Attributes<span><a href="#method-i-calculateStars-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>score</code> : The score of the session.</p>
</li><li>
<p><code>maxStars</code> : The maximum stars for the level.</p>
</li><li>
<p><code>levelNumber</code> : The number of the level.</p>
</li><li>
<p><code>overAllStars</code> : The hash table that contains all the stars owned per level.</p>
</li></ul>

<h5 id="method-i-calculateStars-label-Returns">Returns<span><a href="#method-i-calculateStars-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the number of stars for a level.</p>

<h5 id="method-i-calculateStars-label-Examples">Examples<span><a href="#method-i-calculateStars-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method calculates the stars according to the maximum stars for a level :</p>

<pre>if maxStars == 3
                if score &gt;0.45*@maxScore
                        @actualStars = 3
                elsif score&gt;0.45*@maxScore
                        @actualStars=2
                elsif score&gt;0.25*@maxScore
                        @actualStars = 1
                else
                        @actualStars=0
                end
        end
...</pre>

<p>Then it updates the hash table if the number of stars from this session is better than the previous one or creates a new key, value instance :</p>

<pre class="ruby"><span class="ruby-ivar">@overallStarsHash</span> = <span class="ruby-identifier">overAllStarsHash</span>
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@overallStarsHash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">levelNumber</span>)
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@overallStarsHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">levelNumber</span>)<span class="ruby-operator">&lt;</span><span class="ruby-ivar">@actualStars</span>
                        <span class="ruby-ivar">@overallStarsHash</span>[<span class="ruby-identifier">levelNumber</span>]=<span class="ruby-ivar">@actualStars</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
                <span class="ruby-ivar">@overallStarsHash</span>[<span class="ruby-identifier">levelNumber</span>] = <span class="ruby-ivar">@actualStars</span>
        <span class="ruby-keyword">end</span>
</pre>

<p>Finaly it sets the finished grid and the score variable to 0 and sets the session to nil.</p>
<hr>
          
          

          
          <div class="method-source-code" id="calculateStars-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">calculateStars</span>(<span class="ruby-identifier">score</span>, <span class="ruby-identifier">maxStars</span>,<span class="ruby-identifier">overAllStarsHash</span>,<span class="ruby-identifier">levelNumber</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">maxStars</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">score</span> <span class="ruby-operator">&gt;</span><span class="ruby-value">0.45</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">3</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.45</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">2</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.25</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">1</span>
                <span class="ruby-keyword">else</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">0</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">maxStars</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">score</span> <span class="ruby-operator">&gt;</span><span class="ruby-value">0.47</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">4</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.4</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">3</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.35</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">2</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.3</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">1</span>
                <span class="ruby-keyword">else</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">0</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">maxStars</span> <span class="ruby-operator">==</span> <span class="ruby-value">5</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">score</span> <span class="ruby-operator">&gt;</span><span class="ruby-value">0.5</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">5</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.45</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">4</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.4</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">3</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.37</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">2</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">score</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0.33</span><span class="ruby-operator">*</span><span class="ruby-ivar">@maxScore</span>
                        <span class="ruby-ivar">@actualStars</span> = <span class="ruby-value">1</span>
                <span class="ruby-keyword">else</span>
                        <span class="ruby-ivar">@actualStars</span>=<span class="ruby-value">0</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-ivar">@overallStarsHash</span> = <span class="ruby-identifier">overAllStarsHash</span>
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@overallStarsHash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">levelNumber</span>)
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@overallStarsHash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">levelNumber</span>)<span class="ruby-operator">&lt;</span><span class="ruby-ivar">@actualStars</span>
                        <span class="ruby-ivar">@overallStarsHash</span>[<span class="ruby-identifier">levelNumber</span>]=<span class="ruby-ivar">@actualStars</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
                <span class="ruby-ivar">@overallStarsHash</span>[<span class="ruby-identifier">levelNumber</span>] = <span class="ruby-ivar">@actualStars</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-ivar">@finishedGrid</span> = <span class="ruby-value">0</span>
        <span class="ruby-ivar">@score</span> =<span class="ruby-value">0</span>
        <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">levelNumber</span>] = <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-ivar">@actualStars</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-continuable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">continuable?</span><span
            class="method-args">(numberOfGrid)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-continuable-3F-label-Presentation">Presentation<span><a href="#method-i-continuable-3F-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used to know if a level can be continued.</p>

<h5 id="method-i-continuable-3F-label-Returns">Returns<span><a href="#method-i-continuable-3F-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns a boolean.</p>

<h5 id="method-i-continuable-3F-label-Examples">Examples<span><a href="#method-i-continuable-3F-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method tells if a level can be continued or not by verifying if the number of grids in the level is equal to the number of grids finished :</p>

<pre class="ruby"><span class="ruby-keyword">if</span> <span class="ruby-identifier">numberOfGrid</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
                         <span class="ruby-keyword">false</span>
                 <span class="ruby-keyword">else</span>
                         <span class="ruby-keyword">if</span> <span class="ruby-identifier">numberOfGrid</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@finishedGrid</span>
                                 <span class="ruby-keyword">true</span>
                         <span class="ruby-keyword">else</span>
                                 <span class="ruby-keyword">false</span>
                         <span class="ruby-keyword">end</span>
                 <span class="ruby-keyword">end</span>
</pre>
<hr>
          
          

          
          <div class="method-source-code" id="continuable-3F-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">continuable?</span>(<span class="ruby-identifier">numberOfGrid</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">numberOfGrid</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
                <span class="ruby-keyword">false</span>
        <span class="ruby-keyword">else</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">numberOfGrid</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@finishedGrid</span>
                        <span class="ruby-keyword">true</span>
                <span class="ruby-keyword">else</span>
                        <span class="ruby-keyword">false</span>
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getLevel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getLevel</span><span
            class="method-args">(level)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getLevel-label-Presentation">Presentation<span><a href="#method-i-getLevel-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used when the player wants to play a level in the adventure.</p>

<h5 id="method-i-getLevel-label-Attributes">Attributes<span><a href="#method-i-getLevel-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>level</code> : The level&#39;s number.</p>
</li></ul>

<h5 id="method-i-getLevel-label-Returns">Returns<span><a href="#method-i-getLevel-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the session of the level.</p>

<h5 id="method-i-getLevel-label-Examples">Examples<span><a href="#method-i-getLevel-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method creates a finishedGrid variable and calls the method initLevel if the levelsSession hash table has the level&#39;s number as a key and the session of the level is nil :</p>

<pre>if @levelsSession.has_key?(level)
        if @levelsSession[level] == nil
                self.initLevel(level)
        end</pre>

<p>Else calls the method initLevel :</p>

<pre>            else
        self.initLevel(level)
end</pre>
<hr>
          
          

          
          <div class="method-source-code" id="getLevel-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getLevel</span>(<span class="ruby-identifier">level</span>)
              <span class="ruby-ivar">@finishedGrid</span> = <span class="ruby-value">0</span>
              <span class="ruby-keyword">if</span> <span class="ruby-ivar">@levelsSession</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">level</span>)
                      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">level</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
              <span class="ruby-keyword">self</span>.<span class="ruby-identifier">initLevel</span>(<span class="ruby-identifier">level</span>)
                      <span class="ruby-keyword">end</span>
              <span class="ruby-keyword">else</span>
                      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">initLevel</span>(<span class="ruby-identifier">level</span>)
              <span class="ruby-keyword">end</span>
                      <span class="ruby-keyword">return</span> <span class="ruby-ivar">@levelsSession</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">level</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-getLevelMaxStars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getLevelMaxStars</span><span
            class="method-args">(lvl)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-getLevelMaxStars-label-Presentation">Presentation<span><a href="#method-i-getLevelMaxStars-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used to know the maximal number of stars for a level.</p>

<h5 id="method-i-getLevelMaxStars-label-Attributes">Attributes<span><a href="#method-i-getLevelMaxStars-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>lvl</code> : The level&#39;s number.</p>
</li></ul>

<h5 id="method-i-getLevelMaxStars-label-Returns">Returns<span><a href="#method-i-getLevelMaxStars-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns the maximal number of stars for a level.</p>

<h5 id="method-i-getLevelMaxStars-label-Examples">Examples<span><a href="#method-i-getLevelMaxStars-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Initializes an array that contains all the information about a level and returns the information about the maximal number of stars :</p>

<pre class="ruby">    <span class="ruby-identifier">evelInfo</span>= <span class="ruby-ivar">@levels</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">lvl</span>)
<span class="ruby-keyword">return</span> <span class="ruby-identifier">levelInfo</span>[<span class="ruby-value">3</span>]
</pre>
<hr>
          
          

          
          <div class="method-source-code" id="getLevelMaxStars-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">getLevelMaxStars</span>(<span class="ruby-identifier">lvl</span>)
        <span class="ruby-identifier">levelInfo</span>= <span class="ruby-ivar">@levels</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">lvl</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">levelInfo</span>[<span class="ruby-value">3</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-initLevel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">initLevel</span><span
            class="method-args">(level)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-initLevel-label-Presentation">Presentation<span><a href="#method-i-initLevel-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used when the player wants to play a level in the adventure.</p>

<h5 id="method-i-initLevel-label-Attributes">Attributes<span><a href="#method-i-initLevel-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>level</code> : The level&#39;s number.</p>
</li></ul>

<h5 id="method-i-initLevel-label-Returns">Returns<span><a href="#method-i-initLevel-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns a new session of the level.</p>

<h5 id="method-i-initLevel-label-Examples">Examples<span><a href="#method-i-initLevel-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>Initializes an array that contains all the information about a level. According to the game mode and its difficulty for this level we will create a new session :</p>

<pre class="ruby"><span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>]
        <span class="ruby-keyword">when</span> <span class="ruby-value">:quickplay</span>
                <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">v</span>[<span class="ruby-value">5</span>]] = <span class="ruby-constant">QuickPlaySession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>],<span class="ruby-keyword">true</span>)
        <span class="ruby-keyword">when</span> <span class="ruby-value">:timeAttack</span>
                <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">v</span>[<span class="ruby-value">5</span>]] = <span class="ruby-constant">TimeAttackSession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>],<span class="ruby-keyword">true</span>)
        <span class="ruby-keyword">end</span>
</pre>
<hr>
          
          

          
          <div class="method-source-code" id="initLevel-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initLevel</span>(<span class="ruby-identifier">level</span>)
                <span class="ruby-identifier">v</span> = <span class="ruby-ivar">@levels</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">level</span>)
                <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>]
                <span class="ruby-keyword">when</span> <span class="ruby-value">:quickplay</span>
                        <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">v</span>[<span class="ruby-value">5</span>]] = <span class="ruby-constant">QuickPlaySession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>],<span class="ruby-keyword">true</span>)
                <span class="ruby-keyword">when</span> <span class="ruby-value">:timeAttack</span>
                        <span class="ruby-ivar">@levelsSession</span>[<span class="ruby-identifier">v</span>[<span class="ruby-value">5</span>]] = <span class="ruby-constant">TimeAttackSession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>],<span class="ruby-keyword">true</span>)
                <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-lvlAvailable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lvlAvailable?</span><span
            class="method-args">(lvl, overAllStars)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <h5 id="method-i-lvlAvailable-3F-label-Presentation">Presentation<span><a href="#method-i-lvlAvailable-3F-label-Presentation">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method is used to know if a player can access a level.</p>

<h5 id="method-i-lvlAvailable-3F-label-Attributes">Attributes<span><a href="#method-i-lvlAvailable-3F-label-Attributes">&para;</a> <a href="#top">&uarr;</a></span></h5>
<ul><li>
<p><code>lvl</code> : The level&#39;s number.</p>
</li><li>
<p><code>overAllStars</code> : The overall number of stars for an adventure.</p>
</li></ul>

<h5 id="method-i-lvlAvailable-3F-label-Returns">Returns<span><a href="#method-i-lvlAvailable-3F-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method returns true or false.</p>

<h5 id="method-i-lvlAvailable-3F-label-Examples">Examples<span><a href="#method-i-lvlAvailable-3F-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>This method tells if a level is available by fetching with the level number the stars needed to unlock this level and comparing it to the overall stars :</p>

<pre class="ruby"><span class="ruby-keyword">if</span> <span class="ruby-ivar">@neededStars</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">lvl</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">overAllStars</span>
                         <span class="ruby-keyword">false</span>
                 <span class="ruby-keyword">else</span>
                         <span class="ruby-keyword">true</span>
                 <span class="ruby-keyword">end</span>
</pre>
          
          

          
          <div class="method-source-code" id="lvlAvailable-3F-source">
            <pre><span class="ruby-comment"># File Core/Levels.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lvlAvailable?</span>(<span class="ruby-identifier">lvl</span>, <span class="ruby-identifier">overAllStars</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@neededStars</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">lvl</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">overAllStars</span>
                <span class="ruby-keyword">false</span>
        <span class="ruby-keyword">else</span>
                <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

